<!DOCTYPE html>

<html>

<head>
    <link href="CSS/index.css" rel="stylesheet">
    <link href="CSS/file-selector.css" rel="stylesheet">
    <link href="CSS/results.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PDF Tools</title>
</head>

<body class="no-overflow">
    <nav>
        <p class="title"><span>PDF</span> Tools </p>
        <p class="version">Alpha</p>
    </nav>
    
    <div class="page">
        <div id="fileSelector">
            <!--File selector-->
            <input type="file" id="file" class="file-input big" accept=".pdf" onchange="OnGetDoc(this.files[0])">
            <label for="file" ondrop="OnDragDoc(event)" ondragover="event.preventDefault();">
                <span class="material-icons">picture_as_pdf</span>
                <p>Glissez-déposez un fichier ou cliquez pour séléctionner</p>
            </label>

            <!--Page buttons-->
            <div id="page-selector" class="transparent">
                <button onclick="PreviousPage()" class="circlebtn">
                    <span class="material-icons">arrow_back</span>
                </button>
                <span id="page-id">
                    1
                </span>
                <button onclick="NextPage()" class="circlebtn">
                    <span class="material-icons">arrow_forward</span>
                </button>
                <button onclick="OpenPDF()" class="circlebtn">
                    <span class="material-icons">open_in_new</span>
                </button>
            </div>

            <!--Preview canvas-->
            <div id="preview-canvas-parent">
                <canvas id="preview-canvas">

                </canvas>
            </div>
        </div>


        <div id="results">
            <div id="table-view">
                <!--Grid for the results-->
                <div id="res-grid">
                    <!--Results added with javascript-->
                </div>

                <div id="res-settings">
                    <div class="flex-row"> <!--Add column input-->
                        <input type="text" class="textinput" id="new-col-input" placeholder="Nouvelle colonne...">
                        <button onclick="AddColumn()" class="circlebtn">
                            <span class="material-icons">add</span>
                        </button>
                    </div>

                    <p class="settings-title">
                        Paramètres
                    </p>

                    <label>Décalage X maximum</label>
                    <input type="number" class="textinput" value="15" onchange="SetMaxXDiff(event)">

                    <button onclick="RefreshAll()">
                        <span class="material-icons">refresh</span>
                        Actualiser tout
                    </button>
                </div>
            </div>

            <!--Download menu-->
            <div id="download">
                <input type="text" class="textinput" id="file-name" placeholder="Nom du fichier">
                <span>.csv</span>
                <button class="colorbtn" onclick="GetFile()">Exporter</button>
            </div>
        </div>
    </div>
</body>

<script src="PdfJS/build/pdf.js"></script>
<script src="PDFLoader.js"></script>
<script src="TableExtractor.js"></script>

</html>